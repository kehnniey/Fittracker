<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitTracker - Workout & Fitness Dashboard</title>
    <meta name="description" content="Track your fitness progress with workouts, nutrition, and analytics">
    <meta name="author" content="Kehinde Ojo">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="src/css/styles.css">
    
    <!-- Favicon -->
    <link rel="icon" href="src/images/favicon.png">
</head>
<body>
    <!-- HEADER -->
    <header class="header">
        <div class="header-content">
            <div class="logo">üèãÔ∏è FitTracker</div>

            <nav>
                <!-- Hamburger Menu -->
                <div id="menu"></div>
                
                <!-- Navigation Links -->
                <ul class="nav" id="nav-list">
                    <li><a href="#dashboard">Dashboard</a></li>
                    <li><a href="#exercises">Exercises</a></li>
                    <li><a href="#nutrition">Nutrition</a></li>
                    <li><a href="#progress">Progress</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Navigation Overlay -->
    <div class="nav-overlay" id="navOverlay"></div>

    <!-- WELCOME BANNER (First-time users only) -->
    <div id="welcome-banner" class="welcome-banner" style="display: none;">
        <div class="welcome-content">
            <div class="welcome-text">
                <h2>üèãÔ∏è Welcome to FitTracker!</h2>
                <p>Track workouts, monitor nutrition, and visualize your progress‚Äîall in one place. Start exploring each section below!</p>
            </div>
            <div class="welcome-actions">
                <button class="btn btn-small" onclick="showQuickTour()">üìä Quick Tour</button>
                <button class="btn btn-small btn-secondary" onclick="dismissWelcomeBanner()">Got it!</button>
            </div>
        </div>
    </div>

    <!-- MAIN CONTAINER -->
    <main class="container">

        <!-- DASHBOARD SECTION -->
        <section id="dashboard">
            <div class="dashboard-grid">

                <!-- Today's Workout Card -->
                <div class="card">
                    <h2>Today's Workout</h2>
                    <div id="todayWorkout" class="workout-info">
                        <div class="empty-state">
                            <div class="empty-state-icon">üí™</div>
                            <p>No workout scheduled for today</p>
                        </div>
                    </div>
                    <button class="btn btn-full" id="startWorkoutBtn">Start Workout</button>
                </div>

                <!-- Today's Nutrition Card -->
                <div class="card">
                    <h2>Today's Nutrition</h2>
                    <div class="calorie-display">
                        <div class="calorie-number">
                            <span id="caloriesEaten">0</span> / <span id="calorieGoal">2000</span>
                        </div>
                        <div class="calorie-goal">calories</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="calorieProgress" style="width: 0%"></div>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-secondary btn-full" id="addFoodBtn">+ Add Food</button>
                        <button class="btn btn-full" id="viewMealsBtn">View Meals</button>
                    </div>
                </div>

                <!-- Quick Stats Card -->
                <div class="card">
                    <h2>Quick Stats</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="weekWorkouts">0</div>
                            <div class="stat-label">Workouts This Week</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="currentStreak">0</div>
                            <div class="stat-label">Day Streak</div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- EXERCISE LIBRARY SECTION -->
        <section id="exercises" class="card">
            <h2>Exercise Library</h2>
            <div class="search-container">
                <input 
                    type="text" 
                    class="search-input" 
                    id="exerciseSearch" 
                    placeholder="Search exercises by name or muscle group..."
                    aria-label="Search exercises"
                >
            </div>
            <div id="exerciseList" class="exercise-list">
                <div class="loading">Loading exercises...</div>
            </div>
        </section>

        <!-- NUTRITION SECTION -->
        <section id="nutrition" class="card">
            <h2>Nutrition Tracker</h2>
            <p class="section-description">Search for foods and track your daily nutrition intake.</p>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="nutritionCalories">0</div>
                    <div class="stat-label">Calories Today</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="nutritionMeals">0</div>
                    <div class="stat-label">Meals Logged</div>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-secondary" id="addFoodBtn2">+ Add Food</button>
                <button class="btn" id="viewMealsBtn2">View Today's Meals</button>
            </div>
        </section>

        <!-- PROGRESS SECTION -->
        <section id="progress" class="card">
            <h2>Progress Tracking</h2>
            <p class="section-description">Track your fitness journey over time.</p>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalWorkouts">0</div>
                    <div class="stat-label">Total Workouts</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="avgCalories">0</div>
                    <div class="stat-label">Avg Calories/Day</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="longestStreak">0</div>
                    <div class="stat-label">Longest Streak</div>
                </div>
            </div>

            <!-- Workout Chart -->
            <div id="workoutChartContainer" class="chart-container">
                <div id="workoutChartPlaceholder" class="chart-placeholder">
                    <div class="chart-icon">üèãÔ∏è‚Äç‚ôÇÔ∏è</div>
                    <p class="chart-title"><strong>Workout Chart Coming Soon!</strong></p>
                    <p class="chart-subtitle">Your weekly workouts will appear here.</p>
                </div>
                <canvas id="workoutChart" class="chart-canvas"></canvas>
            </div>

            <!-- Calorie Chart -->
            <div id="calorieChartContainer" class="chart-container">
                <div id="calorieChartPlaceholder" class="chart-placeholder">
                    <div class="chart-icon">üçé</div>
                    <p class="chart-title"><strong>Calorie Chart Coming Soon!</strong></p>
                    <p class="chart-subtitle">Track your calorie intake over the week.</p>
                </div>
                <canvas id="calorieChart" class="chart-canvas"></canvas>
            </div>

            <!-- Progress Chart -->
            <div id="progressChartContainer" class="chart-container">
                <div id="chartPlaceholder" class="chart-placeholder">
                    <div class="chart-icon">üìä</div>
                    <p class="chart-title"><strong>Progress Chart Coming Soon!</strong></p>
                    <p class="chart-subtitle">Weekly progress visualizations will appear here.</p>
                </div>
                <canvas id="progressChart" class="chart-canvas"></canvas>
            </div>

        </section>
        
    </main>

    <!-- FOOD SEARCH MODAL -->
    <div id="foodSearchModal" class="modal">
        <div class="modal-content modal-large">
            <button class="modal-close" onclick="closeFoodSearchModal()" aria-label="Close modal">&times;</button>
            
            <h2 class="modal-title">üçΩÔ∏è Add Food</h2>
            
            <!-- Search Section -->
            <div class="food-search-section">
                <div class="search-input-group">
                    <input 
                        type="text" 
                        id="foodSearchInput" 
                        class="search-input"
                        placeholder="Search for foods (e.g., chicken breast, apple, pizza)..."
                        aria-label="Search for foods"
                    >
                    <button 
                        onclick="searchFoodAPI()" 
                        class="btn btn-search"
                        aria-label="Search for food">
                        üîç Search
                    </button>
                </div>
                <p class="api-credit">Powered by USDA FoodData Central - 300,000+ foods available</p>
            </div>

            <!-- Loading State -->
            <div id="foodSearchLoading" class="food-loading">
                <div class="loading-spinner"></div>
                <p>Searching USDA database...</p>
            </div>

            <!-- Search Results -->
            <div id="foodSearchResults" class="food-results">
                <div id="foodResultsContent">
                    <div class="empty-state">
                        <div class="empty-state-icon">üîç</div>
                        <p>Search for a food to see nutrition information</p>
                    </div>
                </div>
            </div>

            <!-- Selected Food Details -->
            <div id="selectedFoodDetails" class="selected-food-section">
                <h3 class="selected-food-title">Selected Food</h3>
                <div id="selectedFoodInfo"></div>
                
                <div class="meal-type-section">
                    <label for="selectedMealType" class="meal-type-label">Meal Type:</label>
                    <select id="selectedMealType" class="meal-type-select">
                        <option value="Breakfast">üåÖ Breakfast</option>
                        <option value="Lunch">‚òÄÔ∏è Lunch</option>
                        <option value="Dinner">üåô Dinner</option>
                        <option value="Snack">üç™ Snack</option>
                    </select>
                </div>

                <div class="modal-actions">
                    <button onclick="cancelFoodSelection()" class="btn btn-secondary">
                        Cancel
                    </button>
                    <button onclick="confirmAddFood()" class="btn btn-primary">
                        ‚úÖ Add to Today's Meals
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
        <p>&copy; <span id="current-year"></span> FitTracker | Kehinde O. Ojo. All rights reserved.</p>
    </footer>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- <script type="module" src="src/js/main.js"></script> -->
    <script type="module" src="src/js/app.js"></script>
    <script type="module" src="src/js/test/progressTest.mjs"></script>

</body>
</html>